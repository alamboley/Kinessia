/****************************************************************************************************** Gaia Framework for Adobe Flash ©2007-2009* Author: Steven Sacks** blog: http://www.stevensacks.net/* forum: http://www.gaiaflashframework.com/forum/* wiki: http://www.gaiaflashframework.com/wiki/* * By using the Gaia Framework, you agree to keep the above contact information in the source code.* * Gaia Framework for Adobe Flash is released under the MIT License:* http://www.opensource.org/licenses/mit-license *****************************************************************************************************/package pages {	import com.gaiaframework.api.Gaia;	import com.gaiaframework.events.*;	import com.greensock.TweenMax;	import flash.display.*;	import flash.events.*;	import flash.text.*;	public class PreloaderScaffold extends Sprite	{				public var loader:MovieClip;				public function PreloaderScaffold()		{			super();			alpha = 0;			visible = false;			mouseEnabled = mouseChildren = false;			addEventListener(Event.ADDED_TO_STAGE, onAddedToStage);		}		private function onAddedToStage(event:Event):void		{			removeEventListener(Event.ADDED_TO_STAGE, onAddedToStage);			stage.addEventListener(Event.RESIZE, onResize);			onResize();		}		public function transitionIn():void		{			TweenMax.to(this, .1, {autoAlpha:1});		}		public function transitionOut():void		{			TweenMax.to(this, .1, {autoAlpha:0});		}		public function onProgress(event:AssetEvent):void		{						y = 300;						// if bytes, don't show if loaded = 0, if not bytes, don't show if perc = 0			// the reason is because all the files might already be loaded so no need to show preloader			visible = event.bytes ? (event.loaded > 0) : (event.perc > 0);						loader.gotoAndStop(Math.round(event.perc * 100));		}		private function onResize(event:Event = null):void		{			x = (Gaia.api.getWidth() - width) / 2;		}	}}